  <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 20px;
}

.card {
  max-width: 400px;
  margin: 50px auto;
  background: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.hidden {
  display: none;
}

input {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button {
  width: 100%;
  padding: 12px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  opacity: 0.9;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginCard" class="card hidden">
  <h2>Login</h2>

  <input id="email" type="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button id="loginBtn">Login</button>
  <p id="loginMsg"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="card hidden">
  <h2>Dashboard</h2>
  <p id="userEmail"></p>
  <button id="logoutBtn">Logout</button>
</div>

<!-- FIREBASE AUTH -->
<script type="module">
import { auth } from "./firebase.js";
import {
  signInWithEmailAndPassword,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const loginCard = document.getElementById("loginCard");
const dashboard = document.getElementById("dashboard");

const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");

const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");

const loginMsg = document.getElementById("loginMsg");
const userEmail = document.getElementById("userEmail");

/* LOGIN */
loginBtn.addEventListener("click", async () => {
  loginMsg.textContent = "Logging in...";
  try {
    await signInWithEmailAndPassword(
      auth,
      emailInput.value.trim(),
      passwordInput.value.trim()
    );
  } catch (err) {
    loginMsg.textContent = err.message;
  }
});

/* AUTH STATE */
onAuthStateChanged(auth, (user) => {
  if (user) {
    loginCard.classList.add("hidden");
    dashboard.classList.remove("hidden");
    userEmail.textContent = "Logged in as: " + user.email;
  } else {
    dashboard.classList.add("hidden");
    loginCard.classList.remove("hidden");
  }
});

/* LOGOUT */
logoutBtn.addEventListener("click", async () => {
  await signOut(auth);
});
</script>

</body>
</html>
